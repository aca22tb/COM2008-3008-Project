ALTER TABLE bank_details ADD COLUMN user_role VARCHAR(255);
private void saveBankDetailsToDatabase(String cardHolderName, String cardNumber, String cvv, String expiryDate, String userRole) {
    // 获取当前登录用户的email
    String userEmail = /* 获取当前登录用户的email */;

    // 保存银行信息到数据库，包括用户的email、角色和其他信息
    try (Connection connection = DatabaseConnection.getConnection()) {
        String query = "INSERT INTO bank_details (email, role, card_holder_name, card_number, cvv, expiry_date, user_role) VALUES (?, ?, ?, ?, ?, ?, ?)";
        try (PreparedStatement preparedStatement = connection.prepareStatement(query)) {
            preparedStatement.setString(1, userEmail);
            preparedStatement.setString(2, userRole);
            preparedStatement.setString(3, cardHolderName);
            preparedStatement.setString(4, cardNumber);
            preparedStatement.setString(5, cvv);
            preparedStatement.setString(6, expiryDate);
            preparedStatement.setString(7, userRole); // 将用户的角色添加到 user_role 列

            int rowsAffected = preparedStatement.executeUpdate();

            if (rowsAffected > 0) {
                System.out.println("Bank details saved successfully. Rows affected: " + rowsAffected);
            } else {
                System.out.println("Failed to save bank details. No rows affected.");
            }
        }
    } catch (SQLException e) {
        e.printStackTrace();
    }

    JOptionPane.showMessageDialog(this, "Order confirmed! Bank details:\n" +
            "Cardholder Name: " + cardHolderName + "\n" +
            "Card Number: " + cardNumber + "\n" +
            "CVV: " + cvv + "\n" +
            "Expiry Date: " + expiryDate);
}
